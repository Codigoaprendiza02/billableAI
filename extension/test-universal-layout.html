<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BillableAI - Universal Layout Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        
        /* Simulate different website layouts */
        .website-layout-1 {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .website-layout-2 {
            width: 100%;
            padding: 0;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .website-layout-3 {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .main-content {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .content {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .wrapper {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 12px;
            margin: 15px 0;
        }
        
        .page {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 18px;
            margin: 25px 0;
        }
        
        .site-content {
            background: rgba(255, 255, 255, 0.1);
            padding: 35px;
            border-radius: 20px;
            margin: 30px 0;
        }
        
        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #fbbf24;
        }
        
        h2 {
            color: #fbbf24;
            margin-bottom: 15px;
        }
        
        h3 {
            color: #fbbf24;
            margin-top: 0;
        }
        
        .success {
            background: rgba(34, 197, 94, 0.2);
            padding: 10px;
            border-radius: 5px;
            color: #22c55e;
            font-weight: bold;
        }
        
        .info {
            background: rgba(59, 130, 246, 0.2);
            padding: 10px;
            border-radius: 5px;
            color: #3b82f6;
            font-weight: bold;
        }
        
        .warning {
            background: rgba(239, 68, 68, 0.2);
            padding: 10px;
            border-radius: 5px;
            color: #ef4444;
            font-weight: bold;
        }
        
        .keyboard-shortcut {
            background: rgba(139, 92, 246, 0.2);
            padding: 5px 10px;
            border-radius: 3px;
            color: #a855f7;
            font-weight: bold;
            font-family: monospace;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .test-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .test-card h4 {
            color: #fbbf24;
            margin-top: 0;
        }
        
        .layout-info {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- Layout 1: Centered container -->
    <div class="website-layout-1">
        <h1>ğŸ¯ BillableAI Universal Layout Test</h1>
        
        <div class="container">
            <h2>âœ… Robust Layout Adjustment</h2>
            <p>The BillableAI extension now uses a <span class="info">robust layout adjustment system</span> that works across all website types. This means:</p>
            <ul>
                <li><span class="success">Works on any website layout</span> - detects and adjusts main containers</li>
                <li><span class="success">Multiple container types</span> - handles main, .main, .container, .content, .wrapper, .page, .site-content</li>
                <li><span class="success">Universal compatibility</span> - works on Google, YouTube, GitHub, and any other site</li>
                <li><span class="success">Smooth transitions</span> - all adjustments are animated smoothly</li>
            </ul>
        </div>
        
        <div class="main-content">
            <h3>ğŸ¯ Main Content Area</h3>
            <p>This simulates a <code>main</code> element that should be adjusted when the panel opens. The extension should detect this and adjust its margin appropriately.</p>
            <p><span class="success">âœ… This content should shift left when panel opens</span></p>
        </div>
        
        <div class="content">
            <h3>ğŸ“„ Content Area</h3>
            <p>This simulates a <code>.content</code> element that should also be adjusted. The extension should handle multiple container types simultaneously.</p>
            <p><span class="success">âœ… This content should also shift left</span></p>
        </div>
        
        <div class="wrapper">
            <h3>ğŸ“¦ Wrapper Area</h3>
            <p>This simulates a <code>.wrapper</code> element. The extension should detect and adjust this as well.</p>
            <p><span class="success">âœ… This wrapper should adjust properly</span></p>
        </div>
        
        <div class="page">
            <h3>ğŸ“„ Page Area</h3>
            <p>This simulates a <code>.page</code> element. The extension should handle this container type too.</p>
            <p><span class="success">âœ… This page area should shift appropriately</span></p>
        </div>
        
        <div class="site-content">
            <h3>ğŸŒ Site Content Area</h3>
            <p>This simulates a <code>.site-content</code> element. The extension should detect and adjust this container.</p>
            <p><span class="success">âœ… This site content should adjust smoothly</span></p>
        </div>
    </div>
    
    <!-- Layout 2: Full-width layout -->
    <div class="website-layout-2">
        <div class="container">
            <h2>ğŸ“± Full-Width Layout Test</h2>
            <p>This section simulates a full-width website layout (like YouTube or GitHub). The extension should work properly even with this layout structure.</p>
            
            <div class="main-content">
                <h3>ğŸ¯ Full-Width Main Content</h3>
                <p>This content should adjust properly even in a full-width layout. The extension should detect the container and adjust its margin.</p>
                <p><span class="success">âœ… Should work in full-width layouts</span></p>
            </div>
            
            <div class="content">
                <h3>ğŸ“„ Full-Width Content</h3>
                <p>This content should also adjust properly in the full-width layout.</p>
                <p><span class="success">âœ… Should adjust in full-width mode</span></p>
            </div>
        </div>
    </div>
    
    <!-- Layout 3: Wide container layout -->
    <div class="website-layout-3">
        <div class="container">
            <h2>ğŸ–¥ï¸ Wide Container Layout Test</h2>
            <p>This section simulates a wide container layout (like some news sites or dashboards). The extension should work with this layout as well.</p>
            
            <div class="main-content">
                <h3>ğŸ¯ Wide Container Main Content</h3>
                <p>This content should adjust properly in a wide container layout.</p>
                <p><span class="success">âœ… Should work in wide container layouts</span></p>
            </div>
            
            <div class="content">
                <h3>ğŸ“„ Wide Container Content</h3>
                <p>This content should also adjust properly in the wide container layout.</p>
                <p><span class="success">âœ… Should adjust in wide container mode</span></p>
            </div>
        </div>
    </div>
    
    <div class="website-layout-1">
        <div class="container">
            <h2>ğŸ§ª Test Instructions</h2>
            <ol>
                <li>Load the BillableAI extension in Chrome</li>
                <li>Refresh this page</li>
                <li>Look for the blue toggle button (âš–ï¸) on the right edge</li>
                <li>Click the button or press <span class="keyboard-shortcut">Ctrl+Shift+B</span></li>
                <li><span class="info">Notice: All content areas should shift left to make space</span></li>
                <li>Test on different websites (Google, YouTube, GitHub, etc.)</li>
                <li>Verify it works consistently across all sites</li>
            </ol>
        </div>
        
        <div class="test-grid">
            <div class="test-card">
                <h4>ğŸ¯ Container Detection</h4>
                <p>The extension should detect and adjust these container types:</p>
                <ul>
                    <li><code>main</code> - Main content area</li>
                    <li><code>.main</code> - Main container class</li>
                    <li><code>.container</code> - Container class</li>
                    <li><code>.content</code> - Content class</li>
                    <li><code>.wrapper</code> - Wrapper class</li>
                    <li><code>.page</code> - Page class</li>
                    <li><code>.site-content</code> - Site content class</li>
                </ul>
            </div>
            
            <div class="test-card">
                <h4>ğŸ¨ Layout Compatibility</h4>
                <p>The extension should work with:</p>
                <ul>
                    <li><span class="success">Centered layouts</span> - Like Google</li>
                    <li><span class="success">Full-width layouts</span> - Like YouTube</li>
                    <li><span class="success">Wide container layouts</span> - Like GitHub</li>
                    <li><span class="success">Any custom layout</span> - Universal compatibility</li>
                </ul>
            </div>
            
            <div class="test-card">
                <h4>ğŸ“Š Expected Behavior</h4>
                <ul>
                    <li>âœ… All containers shift left</li>
                    <li>âœ… Panel appears on the right</li>
                    <li>âœ… No content is cut off</li>
                    <li>âœ… Smooth transitions</li>
                    <li>âœ… Works on all websites</li>
                    <li>âœ… Original layout restored when closed</li>
                </ul>
            </div>
        </div>
        
        <div class="main-content">
            <h3>ğŸ”§ Technical Implementation</h3>
            <p>The robust layout adjustment system:</p>
            <ul>
                <li><strong>Detects multiple container types:</strong> Uses querySelector to find main, .main, .container, .content, .wrapper, .page, .site-content</li>
                <li><strong>Stores original values:</strong> Saves original margins in dataset for restoration</li>
                <li><strong>Adjusts all containers:</strong> Adds 320px margin-right to all detected containers</li>
                <li><strong>Smooth transitions:</strong> Uses CSS transitions for smooth animations</li>
                <li><strong>Universal compatibility:</strong> Works on any website structure</li>
            </ul>
        </div>
        
        <div class="content">
            <h3>ğŸ“‹ Test Checklist</h3>
            <ul>
                <li>âœ… Toggle button is visible on right edge</li>
                <li>âœ… Panel slides in from right</li>
                <li>âœ… All content areas shift left</li>
                <li>âœ… Both website and panel are visible side by side</li>
                <li>âœ… No content is cut off or hidden</li>
                <li>âœ… Smooth transitions when opening/closing</li>
                <li>âœ… Panel closes properly</li>
                <li>âœ… All content returns to original position when closed</li>
                <li>âœ… Works on Google.com</li>
                <li>âœ… Works on YouTube.com</li>
                <li>âœ… Works on GitHub.com</li>
                <li>âœ… Works on any other website</li>
            </ul>
        </div>
        
        <div class="wrapper">
            <h3>ğŸ¨ Layout Comparison</h3>
            <p><strong>Simple Approach (Previous):</strong> Only adjusted body margin</p>
            <p><strong>Robust Approach (Current):</strong> Detects and adjusts multiple container types</p>
            <p><span class="success">âœ… The robust approach ensures universal compatibility across all website layouts!</span></p>
        </div>
        
        <div class="page">
            <h3>ğŸš€ Benefits of Robust Layout Adjustment</h3>
            <ul>
                <li><span class="success">Universal Compatibility:</span> Works on any website layout</li>
                <li><span class="success">Multiple Container Support:</span> Handles various container types</li>
                <li><span class="success">Smooth Transitions:</span> All adjustments are animated</li>
                <li><span class="success">Layout Respect:</span> Works with existing layouts</li>
                <li><span class="success">Functionality:</span> All website features remain accessible</li>
                <li><span class="success">Reliability:</span> Consistent behavior across all websites</li>
            </ul>
        </div>
        
        <div class="site-content">
            <h3>ğŸ“ Layout Detection Logic</h3>
            <div class="layout-info">
                <p><strong>Container Types Detected:</strong></p>
                <p>main, .main, .container, .content, .wrapper, .page, .site-content</p>
                <br>
                <p><strong>Adjustment Logic:</strong></p>
                <p>1. Store original margin-right values</p>
                <p>2. Add 320px to margin-right for all detected containers</p>
                <p>3. Apply smooth transitions</p>
                <p>4. Restore original values when panel closes</p>
            </div>
        </div>
    </div>
    
    <script>
        // Add some interactive elements
        document.addEventListener('DOMContentLoaded', () => {
            console.log('BillableAI Universal Layout Test Page Loaded');
            
            // Add click effects to content areas
            const contentAreas = document.querySelectorAll('.main-content, .content, .wrapper, .page, .site-content');
            contentAreas.forEach(area => {
                area.addEventListener('click', () => {
                    area.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        area.style.transform = 'scale(1)';
                    }, 150);
                });
            });
            
            // Monitor for BillableAI elements
            setInterval(() => {
                const panel = document.getElementById('billableai-panel');
                const toggle = document.getElementById('billableai-toggle');
                
                if (panel && toggle) {
                    console.log('âœ… BillableAI elements found and working');
                    
                    // Check if panel is visible
                    if (panel.style.transform === 'translateX(0px)') {
                        console.log('ğŸ“Š Panel is currently open (robust layout mode)');
                        
                        // Check if body margin has been adjusted
                        const bodyMargin = window.getComputedStyle(document.body).marginRight;
                        console.log('ğŸ” Body margin-right:', bodyMargin);
                        
                        // Check if main containers have been adjusted
                        const mainContainers = document.querySelectorAll('main, .main, .container, .content, .wrapper, .page, .site-content');
                        mainContainers.forEach((container, index) => {
                            const containerMargin = window.getComputedStyle(container).marginRight;
                            console.log(`ğŸ” Container ${index + 1} margin-right:`, containerMargin);
                        });
                    } else {
                        console.log('ğŸ“Š Panel is currently closed');
                    }
                } else {
                    console.log('âŒ BillableAI elements not found');
                }
            }, 3000);
            
            // Add some interactive functionality
            const testCards = document.querySelectorAll('.test-card');
            testCards.forEach(card => {
                card.addEventListener('click', () => {
                    alert('Test card clicked! This functionality should remain accessible when the panel is open.');
                });
            });
        });
    </script>
</body>
</html> 